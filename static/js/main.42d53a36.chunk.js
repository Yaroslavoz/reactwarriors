(window["webpackJsonpreactwarriors-test-task-basic"]=window["webpackJsonpreactwarriors-test-task-basic"]||[]).push([[0],{11:function(e,t,a){e.exports=a(17)},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(7),i=a.n(n),l=a(9),s=a(1),c=a(2),u=a(4),d=a(3),m=a(5),b=function(e){return o.a.createElement("img",{src:e.src,alt:e.alt})},g=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={willWatch:!1,like:!1,show:!1,start_link:"https://image.tmdb.org/t/p/w500",default_link:"../css/sparta.gif"},a.toggleOverview=function(){var e=!a.state.show;a.setState({show:e})},a.handleLike=function(){var e=!a.state.like;a.setState({like:e})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.movie,r=t.removeMovie,n=t.addMovieToWillWatch,i=t.removeMovieFromWillWatch;return o.a.createElement("div",{className:"flex flex-wrap h-auto bg-indigo-700  content-between hover:bg-indigo-800 m-2 sm:mx-auto md:m-2 lg:m-2 xl:m-2 rounded overflow-hidden shadow-2xl transition ease-in-out duration-700 transform hover:-translate-y-2 hover:scale-110 py-auto "},o.a.createElement("div",{className:"  py-auto "},o.a.createElement(b,{className:"w-full",src:"".concat(this.state.start_link).concat(a.backdrop_path||a.poster_path)?"".concat(this.state.start_link).concat(a.backdrop_path||a.poster_path):this.state.start_link,alt:a.title}),o.a.createElement("div",{className:"font-bold text-xl mb-2 p-2"},a.title),!0===this.state.show?o.a.createElement("p",{className:"z-40 p-2 text-gray-700 text-base"},a.overview):null),o.a.createElement("div",{className:"px-2 py-2 mb-0"},o.a.createElement("button",{type:"button",className:this.state.like?"m-1 mr-2 h-auto bg-blue-500 hover:bg-blue-400 text-white font-bold py-auto px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded outline-none":"mr-2 h-auto bg-gray-500 hover:bg-gray-400 text-white font-bold py-auto px-4 border-b-4 border-gray-700 hover:border-gray-500 rounded focus:outline-none",onClick:this.handleLike},"Like"),o.a.createElement("button",{type:"button",className:"m-1 mr-2 h-auto bg-blue-500 hover:bg-blue-400 text-white font-bold py-auto px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded",onClick:this.toggleOverview},this.state.show?"hide":"show"),o.a.createElement("button",{type:"button",className:"m-1 h-auto bg-red-500 hover:bg-red-400 text-white font-bold py-auto px-4 border-b-4 border-red-700 hover:border-red-500 rounded",onClick:r.bind(null,a)},"Delete movie"),this.state.willWatch?o.a.createElement("button",{type:"button",className:"m-1 h-auto bg-green-500 hover:bg-green-400 text-white font-bold py-auto px-4 border-b-4 border-green-700 hover:border-green-500 rounded",onClick:function(){e.setState({willWatch:!1}),i(a)}},"Will Watch"):o.a.createElement("button",{type:"button",className:"m-auto h-auto bg-gray-500 hover:bg-gray-400 text-white font-bold py-auto px-4 border-b-4 border-gray-700 hover:border-gray-500 rounded focus:outline-none",onClick:function(){e.setState({willWatch:!0}),n(a)}},"Will Watch"),o.a.createElement("p",{className:"p-2"},"Vote average: ",o.a.createElement("strong",null,a.vote_average))))}}]),t}(o.a.Component),h="https://api.themoviedb.org/3",v="3f4ca4f3a9750da53450646ced312397",p=a(10),f=a(8),y=a.n(f),x=o.a.memo((function(e){var t=e.sort_by,a=e.updateSorting,n=Object(r.useState)("popularity.desc"),i=Object(p.a)(n,2),l=i[0],s=i[1],c=function(e){return function(t){a(e),s({tabName:e})}},u=function(e){return y()("inline-block","border","rounded","py-1","px-3","hover:border-blue-200",{"text-white":t===e,"border-indigo-500":t===e,"bg-gray-200":!(t===e),"border-white":!(t===e),"text-black-500":!(t===e),"hover:bg-blue-200":!(t===e)})};return console.log("tabName is ",l),o.a.createElement("ul",{className:"flex w-3/4"},o.a.createElement("li",{className:"mr-3"},o.a.createElement("div",{className:u("popularity.desc"),onClick:c("popularity.desc")},"Popularity desc")),o.a.createElement("li",{className:"mr-3"},o.a.createElement("div",{className:u("revenue.desc"),onClick:c("revenue.desc")},"Revenue desc")),o.a.createElement("li",{className:"mr-3"},o.a.createElement("div",{className:u("vote_average.desc"),onClick:c("vote_average.desc")},"Vote average desc")))})),w=o.a.memo((function(e){var t=e.currentPage,a=e.total_pages,r=e.prev,n=e.next,i=e.handlePage,l=new Array(a);return console.log(a),o.a.createElement("div",{className:"bg-blue-900 px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},o.a.createElement("div",{className:"flex-1 flex justify-between sm:hidden"},o.a.createElement("a",{href:"#",className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm leading-5 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 active:bg-gray-100 active:text-gray-700 transition ease-in-out duration-150",onClick:r},"Previous"),o.a.createElement("a",{href:"#",className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm leading-5 font-medium rounded-md text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 active:bg-gray-100 active:text-gray-700 transition ease-in-out duration-150",onClick:n},"Next")),o.a.createElement("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},o.a.createElement("div",null,o.a.createElement("p",{className:"text-sm leading-5 text-white"},"Showing from ",o.a.createElement("span",{className:"font-medium"},t)," to ",o.a.createElement("span",{className:"font-medium"},t+5)," of ",o.a.createElement("span",{className:"font-medium"},a)," pages")),o.a.createElement("div",null,o.a.createElement("span",{className:"relative z-0 inline-flex shadow-sm"},o.a.createElement("button",{type:"button",className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150",onClick:r},o.a.createElement("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},o.a.createElement("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}))),l.fill(0).map((function(e,t){return t+1})).slice(t-1,t+5).map((function(e){return o.a.createElement("button",{type:"button",className:"-ml-px relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-700 hover:text-gray-500 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-700 transition ease-in-out duration-150",onClick:(t=e,function(){i(t)})},e);var t})),o.a.createElement("button",{type:"button",className:"-ml-px relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150",onClick:n},o.a.createElement("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},o.a.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})))))))})),E=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).removeMovie=function(t){var a=e.state.movies.filter((function(e){return e.id!==t.id}));e.setState({movies:a})},e.addMovieToWillWatch=function(t){var a=[].concat(Object(l.a)(e.state.moviesWillWatch),[t]);e.setState({moviesWillWatch:a})},e.removeMovieFromWillWatch=function(t){var a=e.state.moviesWillWatch.filter((function(e){return e.id!==t.id}));e.setState({moviesWillWatch:a})},e.updateSorting=function(t){e.setState({sort_by:t})},e.pageUpdate=function(t){e.setState({currentPage:t})},e.getMovies=function(){fetch("".concat(h,"/discover/movie?api_key=").concat(v,"&sort_by=").concat(e.state.sort_by,"&page=").concat(e.state.currentPage)).then((function(e){return e.json()})).then((function(t){e.setState({movies:t.results,total_pages:t.total_pages})}))},e.prev=function(){e.state.currentPage>1?e.setState({currentPage:e.state.currentPage-1}):e.setState({currentPage:e.state.currentPage})},e.next=function(){e.setState({currentPage:e.state.currentPage+1})},e.state={movies:[],moviesWillWatch:[],sort_by:"popularity.desc",currentPage:1,total_pages:0},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){return t.sort_by!==this.state.sort_by||t.currentPage!==this.state.currentPage?this.getMovies():""}},{key:"componentDidMount",value:function(){this.getMovies()}},{key:"render",value:function(){var e=this;return console.log("render",this.state,this),o.a.createElement("div",{className:"root-bg bg-fixed bg-indigo-200"},o.a.createElement("div",{className:"container w-3/4 grid grid-cols-1   h-25 mx-auto"},o.a.createElement("div",{className:"w-full flex flex-nowrap  justify-between items-center  p-2 rounded-b bg-blue-900 h-12"},o.a.createElement(x,{sort_by:this.state.sort_by,updateSorting:this.updateSorting}),o.a.createElement("p",{className:"fixed right-0 opacity-75 hover:opacity-100 bg-gray-300 text-gray-800 font-bold p-2 rounded inline-flex items-center z-10"},"Will watch: ",this.state.moviesWillWatch.length))),o.a.createElement("div",{className:" container w-3/4 mx-auto grid  grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3"},this.state.movies.map((function(t){return o.a.createElement(g,{key:t.id,movie:t,removeMovie:e.removeMovie,addMovieToWillWatch:e.addMovieToWillWatch,removeMovieFromWillWatch:e.removeMovieFromWillWatch})}))),o.a.createElement("div",{className:"container w-3/4 grid grid-cols-1 rounded-t h-25 mx-auto"},o.a.createElement(w,{prev:this.prev,next:this.next,handlePage:this.pageUpdate,total_pages:this.state.total_pages,currentPage:this.state.currentPage})))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(16);i.a.render(o.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.42d53a36.chunk.js.map